digraph TimeMoESimplified {
    // Graph properties
    rankdir=TB;
    label="Time-MoE: Time Series Mixture of Experts Architecture";
    labelloc=top;
    fontsize=16;
    fontname="Arial Bold";
    
    // Node properties
    node [style=filled, fontname="Arial", fontsize=12];
    
    // Input
    input [label="Time Series Data\n(Univariate/Multivariate)", fillcolor=lightblue, shape=box];
    
    // Embedding
    embed [label="Input Embedding\n(MLP-based)", fillcolor=lightgreen, shape=box];
    
    // Transformer layers
    transformer [label="N Transformer Layers\nEach with Attention + MoE-FFN", fillcolor=lightyellow, shape=box];
    
    // MoE Component
    subgraph cluster_moe {
        label="Mixture of Experts (MoE) Component";
        color=red;
        style=dashed;
        
        router [label="Router\n(Gating Network)", fillcolor=pink, shape=ellipse];
        topk [label="Top-K Selection", fillcolor=plum, shape=ellipse];
        
        subgraph cluster_experts {
            label="Expert Networks";
            color=orange;
            
            expert1 [label="Expert 1", fillcolor=gold, shape=box];
            expert2 [label="Expert 2", fillcolor=gold, shape=box];
            expertn [label="Expert N", fillcolor=gold, shape=box];
        }
        
        shared [label="Shared Expert", fillcolor=khaki, shape=box];
        combine [label="Weighted Sum", fillcolor=orchid, shape=ellipse];
    }
    
    // Output
    norm [label="RMS Normalization", fillcolor=lightcyan, shape=box];
    output [label="Output Layer\n(Multiple Prediction Horizons)", fillcolor=lightblue, shape=box];
    
    // Connections
    input -> embed;
    embed -> transformer;
    transformer -> router;
    router -> topk;
    topk -> expert1;
    topk -> expert2;
    topk -> expertn;
    router -> shared;
    expert1 -> combine;
    expert2 -> combine;
    expertn -> combine;
    shared -> combine;
    combine -> norm;
    norm -> output;
    
    // Key features annotation
    feature1 [label="Temporal Modeling", fillcolor=lightgray, shape=box, pos="3,1!", fixedsize=true, width=2, height=0.5];
    feature2 [label="Expert Specialization", fillcolor=lightgray, shape=box, pos="3,0!", fixedsize=true, width=2, height=0.5];
    feature3 [label="Dynamic Routing", fillcolor=lightgray, shape=box, pos="3,-1!", fixedsize=true, width=2, height=0.5];
    feature4 [label="Multi-Horizon Prediction", fillcolor=lightgray, shape=box, pos="3,-2!", fixedsize=true, width=2, height=0.5];
}